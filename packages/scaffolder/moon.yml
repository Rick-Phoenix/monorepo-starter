$schema: "https://moonrepo.dev/schemas/project.json"

dependsOn:
  - utils

workspace:
  inheritedTasks:
    exclude: ["build", "test"]

tasks:
  build:
    deps:
      - "^:build"
    command: "tsdown"
    inputs:
      - "tsdown.config.ts"
      - "src/**/*"
      - "templates/**/*"
      - "package.json"
    outputs:
      - "dist"
  test:
    command: "vitest --config tests/vitest.config.ts run"
    inputs:
      - "src/**/*"
      - "package.json"
      - "tests/**/*"
      - "tsconfig.json"
      - "vitest.config.ts"
