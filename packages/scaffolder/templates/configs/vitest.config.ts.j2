{% for plugin in plugins %}
import {{ plugin.name }} from "{{ plugin.packageName }}";
{% endfor %}
import { defineConfig } from "vitest/config";
import { resolve, join } from "node:path";

const j = join;
const r = resolve;

const dir = import.meta.dirname;
const setupDir = r(dir, "{{ setupDir }}");

export default defineConfig({
  plugins: [
    {% for plugin in plugins %}
    {{ plugin.name }}(){{ "," if loop.last !== true }}
    {% endfor %}
  ],
  resolve: {
    alias: {
      '@': r(dir, "{{ srcRelPath }}"),
    },
  },

  test: { 
    setupFiles: [ 
      {% for path in presetsRelPaths %}
      j(setupDir, "{{ path }}"),  
      {% endfor %}
      {% if setupFileRelPath %}
      j(setupDir, "{{ setupFileRelPath }}"),
      {% endif %}
    ], 
    globals: true,
    environment: "node",
    silent: "passed-only",
    sequence: {
      setupFiles: "list",
    },
  },
});
